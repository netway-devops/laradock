<VirtualHost *:80>
  ServerName client.netway.co.th.main
  ServerAdmin client.netway.co.th.main@billing.netway.co.th.main
  DocumentRoot /var/www/domains/netwaymain/billing.netway.co.th/frontend-server
  Options Indexes FollowSymLinks

  <Directory "/var/www/domains/netwaymain/billing.netway.co.th/frontend-server/">
    AllowOverride All
    <IfVersion < 2.4>
      Allow from all
    </IfVersion>
    <IfVersion >= 2.4>
      Require all granted
    </IfVersion>
  </Directory>

  ErrorLog ${APACHE_LOG_DIR}/client.netway.co.th.main-error.log
  CustomLog ${APACHE_LOG_DIR}/client.netway.co.th.main-access.log combined
</VirtualHost>

<IfModule mod_ssl.c>
    <VirtualHost *:443>
        ServerName client.netway.co.th.main
        ServerAdmin client.netway.co.th.main@billing.netway.co.th.main
        DocumentRoot /var/www/domains/netwaymain/billing.netway.co.th/frontend-server

        <Proxy *>
            Order deny,allow
            Allow from all
        </Proxy>

        ProxyPreserveHost On
        ProxyPass        "/" "https://client.netway.co.th.main:8810/"
        ProxyPassReverse "/" "https://client.netway.co.th.main:8810/"

        ErrorLog ${APACHE_LOG_DIR}/client.netway.co.th.main-error.log
        CustomLog ${APACHE_LOG_DIR}/client.netway.co.th.main-access.log combined

        SSLEngine on
        SSLCertificateFile  /etc/apache2/ssl-certs/client.netway.co.th.main.pem
        SSLCertificateKeyFile /etc/apache2/ssl-certs/client.netway.co.th.main-key.pem
    </VirtualHost>
</IfModule>
