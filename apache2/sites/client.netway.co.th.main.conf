<VirtualHost *:80>
  ServerName client.netway.co.th.main
  ServerAdmin client.netway.co.th.main@billing.netway.co.th.main

  DocumentRoot /var/www/domains/netwaymain/billing.netway.co.th/frontend-server
  Options Indexes FollowSymLinks

  <Directory "/var/www/domains/netwaymain/billing.netway.co.th/frontend-server/">
    AllowOverride All
    <IfVersion < 2.4>
      Allow from all
    </IfVersion>
    <IfVersion >= 2.4>
      Require all granted
    </IfVersion>
  </Directory>

  ErrorLog ${APACHE_LOG_DIR}/client.netway.co.th.main-error.log
  CustomLog ${APACHE_LOG_DIR}/client.netway.co.th.main-access.log combined
</VirtualHost>

<IfModule mod_ssl.c>
    <VirtualHost *:443>
        ServerName client.netway.co.th.main
        ServerAdmin client.netway.co.th.main@billing.netway.co.th.main

        DocumentRoot /var/www/domains/netwaymain/billing.netway.co.th/frontend-server
        # <Directory "/var/www/domains/netwaymain/billing.netway.co.th/frontend-server/">
        #   AllowOverride All
        #   Options -Indexes +FollowSymLinks
        #   Require all granted
        # </Directory>

        SSLProxyEngine on
        SSLProxyVerify none
        SSLProxyCheckPeerCN off
        SSLProxyCheckPeerName off
        SSLProxyCheckPeerExpire off

        <Proxy *>
            Order deny,allow
            Allow from all
        </Proxy>

        <Location />
          ProxyPreserveHost on
          ProxyPass "https://0.0.0.0:8810/"
          ProxyPassReverse "https://0.0.0.0:8810/"
        </Location>

        ErrorLog ${APACHE_LOG_DIR}/client.netway.co.th.main-error.log
        CustomLog ${APACHE_LOG_DIR}/client.netway.co.th.main-access.log combined

        SSLEngine on
        SSLCertificateFile  /etc/apache2/ssl-certs/client.netway.co.th.main.pem
        SSLCertificateKeyFile /etc/apache2/ssl-certs/client.netway.co.th.main-key.pem

        <FilesMatch "\.(cgi|shtml|phtml|php)$">
                SSLOptions +StdEnvVars
        </FilesMatch>
        <Directory /usr/lib/cgi-bin>
                SSLOptions +StdEnvVars
        </Directory>

    </VirtualHost>
</IfModule>
